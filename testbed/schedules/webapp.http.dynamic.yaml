monitors:
  - name: webapp.http.dynamic
    module: monitor_webapp_dynamic_analysis
    exec: src/webapp/webapp.dynamic

schedule:
  - test: webapp.http.dynamic
    write-to: webapp.http_dynamic.single_page.vutbr
    targets:  
        - { "target_host": "https://www.vut.cz", "screenshot_timing_type": "load", "timeout": 25000 }
        - { "target_host": "https://www.fce.vutbr.cz", "screenshot_timing_type": "load", "timeout": 25000 }
        - { "target_host": "https://www.fsi.vutbr.cz", "screenshot_timing_type": "load", "timeout": 25000 }
        - { "target_host": "https://www.fekt.vutbr.cz", "screenshot_timing_type": "load", "timeout": 25000 }
        - { "target_host": "https://www.fa.vutbr.cz", "screenshot_timing_type": "load", "timeout": 25000 }
        - { "target_host": "https://www.fch.vutbr.cz", "screenshot_timing_type": "load", "timeout": 25000 }
        - { "target_host": "https://www.favu.vutbr.cz", "screenshot_timing_type": "load", "timeout": 25000 }
        - { "target_host": "https://www.fit.vut.cz", "screenshot_timing_type": "load", "timeout": 25000 }
        - { "target_host": "https://www.cesa.vut.cz", "screenshot_timing_type": "load", "timeout": 25000 }
        - { "target_host": "https://www.ceitec.cz", "screenshot_timing_type": "load", "timeout": 25000 }
    repeat-every: 10m

  - test: webapp.http.dynamic
    write-to: webapp.http_dynamic.single_page.internet
    targets:
      - { "target_host": "https://www.google.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.youtube.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.facebook.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.amazon.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.wikipedia.org", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.twitter.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.instagram.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.linkedin.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.yahoo.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.reddit.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.netflix.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.ebay.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.bing.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.pinterest.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.microsoft.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.live.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.tiktok.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.wordpress.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.stackoverflow.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.github.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.quora.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.apple.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.cnn.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.nytimes.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.office.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.paypal.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.dropbox.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.adobe.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.slack.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.spotify.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.tumblr.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.whatsapp.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.indeed.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.bbc.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.imdb.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.booking.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.tripadvisor.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.weather.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.costco.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.target.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.walmart.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.homedepot.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.bestbuy.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.yelp.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.etsy.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.uber.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.airbnb.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.zoom.us", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
      - { "target_host": "https://www.salesforce.com", "screenshot_timing_type": "networkidle0", "timeout": 25000 }
    repeat-every: 10m

  - test: webapp.http.dynamic
    write-to: webapp.http_dynamic.multiple_visited_pages.vutbr
    targets:
       # cookies accepted
      - {
        "replay_script": "Y29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyJyk7IC8vIHYyMy4wLjAgb3IgbGF0ZXIKCihhc3luYyAoKSA9PiB7CiAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCgpOwogICAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpOwogICAgY29uc3QgdGltZW91dCA9IDUwMDA7CiAgICBwYWdlLnNldERlZmF1bHRUaW1lb3V0KHRpbWVvdXQpOwoKICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLnNldFZpZXdwb3J0KHsKICAgICAgICAgICAgd2lkdGg6IDE2MzEsCiAgICAgICAgICAgIGhlaWdodDogNDY5CiAgICAgICAgfSkKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmdvdG8oJ2h0dHBzOi8vd3d3LnZ1dC5jei96aXZvdCcpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtYXJpYShQT1ZPTElUIFbFoEUpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI2NoMi1kaWFsb2cgYnV0dG9uLmNoMi1hbGxvdy1hbGwtYnRuJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcImNoMi1kaWFsb2dcXCJdL2RpdlsyXS9idXR0b25bMV0pJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiAjY2gyLWRpYWxvZyBidXR0b24uY2gyLWFsbG93LWFsbC1idG4nKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiAxNTguMjg1NjQ0NTMxMjUsCiAgICAgICAgICAgICAgICB5OiA5Ljg1NzEzMTk1ODAwNzgxMiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgIH0KCiAgICBhd2FpdCBicm93c2VyLmNsb3NlKCk7Cgp9KSgpLmNhdGNoKGVyciA9PiB7CiAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICBwcm9jZXNzLmV4aXQoMSk7Cn0pOwo=",
        "screenshot_timing_between_steps": 400,
        "timeout": 30000
      }
       # cookies accepted and 1 subpage visited
      - {
        "replay_script": "Y29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyJyk7IC8vIHYyMy4wLjAgb3IgbGF0ZXIKCihhc3luYyAoKSA9PiB7CiAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCgpOwogICAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpOwogICAgY29uc3QgdGltZW91dCA9IDUwMDA7CiAgICBwYWdlLnNldERlZmF1bHRUaW1lb3V0KHRpbWVvdXQpOwoKICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLnNldFZpZXdwb3J0KHsKICAgICAgICAgICAgd2lkdGg6IDE2MzEsCiAgICAgICAgICAgIGhlaWdodDogNTEyCiAgICAgICAgfSkKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmdvdG8oJ2h0dHBzOi8vd3d3LnZ1dC5jei96aXZvdCcpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtYXJpYShQT1ZPTElUIFbFoEUpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI2NoMi1kaWFsb2cgYnV0dG9uLmNoMi1hbGxvdy1hbGwtYnRuJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcImNoMi1kaWFsb2dcXCJdL2RpdlsyXS9idXR0b25bMV0pJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiAjY2gyLWRpYWxvZyBidXR0b24uY2gyLWFsbG93LWFsbC1idG4nKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiAxMDcuMjg1NjQ0NTMxMjUsCiAgICAgICAgICAgICAgICB5OiAyMi45OTk5ODQ3NDEyMTA5MzgsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTsKICAgICAgICBjb25zdCBzdGFydFdhaXRpbmdGb3JFdmVudHMgPSAoKSA9PiB7CiAgICAgICAgICAgIHByb21pc2VzLnB1c2godGFyZ2V0UGFnZS53YWl0Rm9yTmF2aWdhdGlvbigpKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKFDFmWVkbcSbdHkpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignZGl2LnB0MC0tbSBkaXY6bnRoLW9mLXR5cGUoMykgbGk6bnRoLW9mLXR5cGUoMSkgPiBhJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvaHRtbC9ib2R5L2RpdlsxXS9mb290ZXIvZGl2WzFdL2Rpdi9kaXZbM10vZGl2L3VsL2xpWzFdL2EpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiBkaXYucHQwLS1tIGRpdjpudGgtb2YtdHlwZSgzKSBsaTpudGgtb2YtdHlwZSgxKSA+IGEnKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5vbignYWN0aW9uJywgKCkgPT4gc3RhcnRXYWl0aW5nRm9yRXZlbnRzKCkpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiA1My45MTA3MDU1NjY0MDYyNSwKICAgICAgICAgICAgICAgIHk6IDE1Ljc2Nzg1Mjc4MzIwMzEyNSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICB9CgogICAgYXdhaXQgYnJvd3Nlci5jbG9zZSgpOwoKfSkoKS5jYXRjaChlcnIgPT4gewogICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgcHJvY2Vzcy5leGl0KDEpOwp9KTsK",
        "screenshot_timing_between_steps": 400,
        "timeout": 30000
      }
      # cookies accepted and 2 subpage visited
      - {
        "replay_script": "Y29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyJyk7IC8vIHYyMy4wLjAgb3IgbGF0ZXIKCihhc3luYyAoKSA9PiB7CiAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCgpOwogICAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpOwogICAgY29uc3QgdGltZW91dCA9IDUwMDA7CiAgICBwYWdlLnNldERlZmF1bHRUaW1lb3V0KHRpbWVvdXQpOwoKICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLnNldFZpZXdwb3J0KHsKICAgICAgICAgICAgd2lkdGg6IDE2MzEsCiAgICAgICAgICAgIGhlaWdodDogNTEyCiAgICAgICAgfSkKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmdvdG8oJ2h0dHBzOi8vd3d3LnZ1dC5jei96aXZvdCcpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtYXJpYShQT1ZPTElUIFbFoEUpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI2NoMi1kaWFsb2cgYnV0dG9uLmNoMi1hbGxvdy1hbGwtYnRuJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcImNoMi1kaWFsb2dcXCJdL2RpdlsyXS9idXR0b25bMV0pJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiAjY2gyLWRpYWxvZyBidXR0b24uY2gyLWFsbG93LWFsbC1idG4nKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiAxNDkuMjg1NjQ0NTMxMjUsCiAgICAgICAgICAgICAgICB5OiAyMS45OTk5ODQ3NDEyMTA5MzgsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTsKICAgICAgICBjb25zdCBzdGFydFdhaXRpbmdGb3JFdmVudHMgPSAoKSA9PiB7CiAgICAgICAgICAgIHByb21pc2VzLnB1c2godGFyZ2V0UGFnZS53YWl0Rm9yTmF2aWdhdGlvbigpKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKFDFmWVkbcSbdHkpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignZGl2LnB0MC0tbSBkaXY6bnRoLW9mLXR5cGUoMykgbGk6bnRoLW9mLXR5cGUoMSkgPiBhJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvaHRtbC9ib2R5L2RpdlsxXS9mb290ZXIvZGl2WzFdL2Rpdi9kaXZbM10vZGl2L3VsL2xpWzFdL2EpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiBkaXYucHQwLS1tIGRpdjpudGgtb2YtdHlwZSgzKSBsaTpudGgtb2YtdHlwZSgxKSA+IGEnKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5vbignYWN0aW9uJywgKCkgPT4gc3RhcnRXYWl0aW5nRm9yRXZlbnRzKCkpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiA4Ny45MTA3MDU1NjY0MDYyNSwKICAgICAgICAgICAgICAgIHk6IDIuMTk2NDI2MzkxNjAxNTYyNSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTsKICAgICAgICBjb25zdCBzdGFydFdhaXRpbmdGb3JFdmVudHMgPSAoKSA9PiB7CiAgICAgICAgICAgIHByb21pc2VzLnB1c2godGFyZ2V0UGFnZS53YWl0Rm9yTmF2aWdhdGlvbigpKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKEEgc21hbGwgZGVmZW5zZSBvZiB0aGUgZGlzc2VydGF0aW9uIOKAkyBtb2RwREVbcm9sZT1cXCJsaW5rXFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCdsaTpudGgtb2YtdHlwZSgxKSBoMiA+IGEnKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXhwYXRoKC8vKltAaWQ9XFwidnlzbGVkZWtobGVkYW5pXFwiXS91bC9saVsxXS9kaXYvaDIvYSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+IGxpOm50aC1vZi10eXBlKDEpIGgyID4gYScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtdGV4dChBIHNtYWxsIGRlZmVuc2UpJykKICAgICAgICBdKQogICAgICAgICAgICAuc2V0VGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICAub24oJ2FjdGlvbicsICgpID0+IHN0YXJ0V2FpdGluZ0ZvckV2ZW50cygpKQogICAgICAgICAgICAuY2xpY2soewogICAgICAgICAgICAgIG9mZnNldDogewogICAgICAgICAgICAgICAgeDogMjUyLjI4NTcwNTU2NjQwNjI1LAogICAgICAgICAgICAgICAgeTogMy41NzE0MTExMzI4MTI1LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pOwogICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTsKICAgIH0KCiAgICBhd2FpdCBicm93c2VyLmNsb3NlKCk7Cgp9KSgpLmNhdGNoKGVyciA9PiB7CiAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICBwcm9jZXNzLmV4aXQoMSk7Cn0pOwo=",
        "screenshot_timing_between_steps": 400,
        "timeout": 30000
      }
        # cookies accepted -> subpage visited -> search by text input -> subpage visited
      - {
        "replay_script": "Y29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyJyk7IC8vIHYyMy4wLjAgb3IgbGF0ZXIKCihhc3luYyAoKSA9PiB7CiAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCgpOwogICAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpOwogICAgY29uc3QgdGltZW91dCA9IDUwMDA7CiAgICBwYWdlLnNldERlZmF1bHRUaW1lb3V0KHRpbWVvdXQpOwoKICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLnNldFZpZXdwb3J0KHsKICAgICAgICAgICAgd2lkdGg6IDE2MzEsCiAgICAgICAgICAgIGhlaWdodDogNTEyCiAgICAgICAgfSkKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmdvdG8oJ2h0dHBzOi8vd3d3LnZ1dC5jei96aXZvdCcpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtYXJpYShQT1ZPTElUIFbFoEUpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI2NoMi1kaWFsb2cgYnV0dG9uLmNoMi1hbGxvdy1hbGwtYnRuJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcImNoMi1kaWFsb2dcXCJdL2RpdlsyXS9idXR0b25bMV0pJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiAjY2gyLWRpYWxvZyBidXR0b24uY2gyLWFsbG93LWFsbC1idG4nKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiAxMzYuMjg1NjQ0NTMxMjUsCiAgICAgICAgICAgICAgICB5OiAxOS45OTk5ODQ3NDEyMTA5MzgsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTsKICAgICAgICBjb25zdCBzdGFydFdhaXRpbmdGb3JFdmVudHMgPSAoKSA9PiB7CiAgICAgICAgICAgIHByb21pc2VzLnB1c2godGFyZ2V0UGFnZS53YWl0Rm9yTmF2aWdhdGlvbigpKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKFDFmWVkbcSbdHkpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignZGl2LnB0MC0tbSBkaXY6bnRoLW9mLXR5cGUoMykgbGk6bnRoLW9mLXR5cGUoMSkgPiBhJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvaHRtbC9ib2R5L2RpdlsxXS9mb290ZXIvZGl2WzFdL2Rpdi9kaXZbM10vZGl2L3VsL2xpWzFdL2EpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiBkaXYucHQwLS1tIGRpdjpudGgtb2YtdHlwZSgzKSBsaTpudGgtb2YtdHlwZSgxKSA+IGEnKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5vbignYWN0aW9uJywgKCkgPT4gc3RhcnRXYWl0aW5nRm9yRXZlbnRzKCkpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiA0NC45MTA3MDU1NjY0MDYyNSwKICAgICAgICAgICAgICAgIHk6IDE2LjYyNDk4NDc0MTIxMDkzOCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKEhsZWRhdCBwxZllZG3Em3QgcG9kbGUgbsOhenZ1IG5lYm8gemtyYXRreTopJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI2RhdGFcXFtwX25hemV2XFxdJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcImRhdGFbcF9uYXpldl1cXCJdKScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzpzY29wZSA+Pj4gI2RhdGFcXFtwX25hemV2XFxdJykKICAgICAgICBdKQogICAgICAgICAgICAuc2V0VGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICAuY2xpY2soewogICAgICAgICAgICAgIG9mZnNldDogewogICAgICAgICAgICAgICAgeDogMTQ4LjI4NTcwNTU2NjQwNjI1LAogICAgICAgICAgICAgICAgeTogMTcsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKEhsZWRhdCBwxZllZG3Em3QgcG9kbGUgbsOhenZ1IG5lYm8gemtyYXRreTopJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI2RhdGFcXFtwX25hemV2XFxdJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcImRhdGFbcF9uYXpldl1cXCJdKScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzpzY29wZSA+Pj4gI2RhdGFcXFtwX25hemV2XFxdJykKICAgICAgICBdKQogICAgICAgICAgICAuc2V0VGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICAuZmlsbCgnaWRtJyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgdGFyZ2V0UGFnZS5rZXlib2FyZC5kb3duKCdFbnRlcicpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGNvbnN0IHByb21pc2VzID0gW107CiAgICAgICAgY29uc3Qgc3RhcnRXYWl0aW5nRm9yRXZlbnRzID0gKCkgPT4gewogICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRhcmdldFBhZ2Uud2FpdEZvck5hdmlnYXRpb24oKSk7CiAgICAgICAgfQogICAgICAgIGF3YWl0IHRhcmdldFBhZ2Uua2V5Ym9hcmQudXAoJ0VudGVyJyk7CiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGNvbnN0IHByb21pc2VzID0gW107CiAgICAgICAgY29uc3Qgc3RhcnRXYWl0aW5nRm9yRXZlbnRzID0gKCkgPT4gewogICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRhcmdldFBhZ2Uud2FpdEZvck5hdmlnYXRpb24oKSk7CiAgICAgICAgfQogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtYXJpYShEaXNrcsOpdG7DrSBtYXRlbWF0aWthIOKAkyBJRE1bcm9sZT1cXCJsaW5rXFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCdoMiA+IGEnKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXhwYXRoKC8vKltAaWQ9XFwidnlzbGVkZWtobGVkYW5pXFwiXS91bC9saS9kaXYvaDIvYSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+IGgyID4gYScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtdGV4dChEaXNrcsOpdG7DrSBtYXRlbWF0aWthKScpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLm9uKCdhY3Rpb24nLCAoKSA9PiBzdGFydFdhaXRpbmdGb3JFdmVudHMoKSkKICAgICAgICAgICAgLmNsaWNrKHsKICAgICAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgICAgIHg6IDI4NC4yODU3MDU1NjY0MDYyNSwKICAgICAgICAgICAgICAgIHk6IDE5LjU3MTQxMTEzMjgxMjUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpOwogICAgfQoKICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTsKCn0pKCkuY2F0Y2goZXJyID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgIHByb2Nlc3MuZXhpdCgxKTsKfSk7Cg==",
        "screenshot_timing_between_steps": 400,
        "timeout": 30000
      }
      # cookies accepted -> clicking a button to dynamically display text on the same webpage
      - {
        "replay_script": "Y29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyJyk7IC8vIHYyMy4wLjAgb3IgbGF0ZXIKCihhc3luYyAoKSA9PiB7CiAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCgpOwogICAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpOwogICAgY29uc3QgdGltZW91dCA9IDUwMDA7CiAgICBwYWdlLnNldERlZmF1bHRUaW1lb3V0KHRpbWVvdXQpOwoKICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLnNldFZpZXdwb3J0KHsKICAgICAgICAgICAgd2lkdGg6IDE2MzEsCiAgICAgICAgICAgIGhlaWdodDogNTEyCiAgICAgICAgfSkKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmdvdG8oJ2h0dHBzOi8vd3d3LnZ1dC5jei96aXZvdCcpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtYXJpYShQT1ZPTElUIFbFoEUpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI2NoMi1kaWFsb2cgYnV0dG9uLmNoMi1hbGxvdy1hbGwtYnRuJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcImNoMi1kaWFsb2dcXCJdL2RpdlsyXS9idXR0b25bMV0pJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiAjY2gyLWRpYWxvZyBidXR0b24uY2gyLWFsbG93LWFsbC1idG4nKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiAxMzYuMjg1NjQ0NTMxMjUsCiAgICAgICAgICAgICAgICB5OiAxOS45OTk5ODQ3NDEyMTA5MzgsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTsKICAgICAgICBjb25zdCBzdGFydFdhaXRpbmdGb3JFdmVudHMgPSAoKSA9PiB7CiAgICAgICAgICAgIHByb21pc2VzLnB1c2godGFyZ2V0UGFnZS53YWl0Rm9yTmF2aWdhdGlvbigpKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKFDFmWVkbcSbdHkpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignZGl2LnB0MC0tbSBkaXY6bnRoLW9mLXR5cGUoMykgbGk6bnRoLW9mLXR5cGUoMSkgPiBhJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvaHRtbC9ib2R5L2RpdlsxXS9mb290ZXIvZGl2WzFdL2Rpdi9kaXZbM10vZGl2L3VsL2xpWzFdL2EpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiBkaXYucHQwLS1tIGRpdjpudGgtb2YtdHlwZSgzKSBsaTpudGgtb2YtdHlwZSgxKSA+IGEnKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5vbignYWN0aW9uJywgKCkgPT4gc3RhcnRXYWl0aW5nRm9yRXZlbnRzKCkpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiA0NC45MTA3MDU1NjY0MDYyNSwKICAgICAgICAgICAgICAgIHk6IDE2LjYyNDk4NDc0MTIxMDkzOCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKEhsZWRhdCBwxZllZG3Em3QgcG9kbGUgbsOhenZ1IG5lYm8gemtyYXRreTopJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI2RhdGFcXFtwX25hemV2XFxdJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcImRhdGFbcF9uYXpldl1cXCJdKScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzpzY29wZSA+Pj4gI2RhdGFcXFtwX25hemV2XFxdJykKICAgICAgICBdKQogICAgICAgICAgICAuc2V0VGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICAuY2xpY2soewogICAgICAgICAgICAgIG9mZnNldDogewogICAgICAgICAgICAgICAgeDogMTQ4LjI4NTcwNTU2NjQwNjI1LAogICAgICAgICAgICAgICAgeTogMTcsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKEhsZWRhdCBwxZllZG3Em3QgcG9kbGUgbsOhenZ1IG5lYm8gemtyYXRreTopJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI2RhdGFcXFtwX25hemV2XFxdJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcImRhdGFbcF9uYXpldl1cXCJdKScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzpzY29wZSA+Pj4gI2RhdGFcXFtwX25hemV2XFxdJykKICAgICAgICBdKQogICAgICAgICAgICAuc2V0VGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICAuZmlsbCgnaWRtJyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgdGFyZ2V0UGFnZS5rZXlib2FyZC5kb3duKCdFbnRlcicpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGNvbnN0IHByb21pc2VzID0gW107CiAgICAgICAgY29uc3Qgc3RhcnRXYWl0aW5nRm9yRXZlbnRzID0gKCkgPT4gewogICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRhcmdldFBhZ2Uud2FpdEZvck5hdmlnYXRpb24oKSk7CiAgICAgICAgfQogICAgICAgIGF3YWl0IHRhcmdldFBhZ2Uua2V5Ym9hcmQudXAoJ0VudGVyJyk7CiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGNvbnN0IHByb21pc2VzID0gW107CiAgICAgICAgY29uc3Qgc3RhcnRXYWl0aW5nRm9yRXZlbnRzID0gKCkgPT4gewogICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRhcmdldFBhZ2Uud2FpdEZvck5hdmlnYXRpb24oKSk7CiAgICAgICAgfQogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtYXJpYShEaXNrcsOpdG7DrSBtYXRlbWF0aWthIOKAkyBJRE1bcm9sZT1cXCJsaW5rXFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCdoMiA+IGEnKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXhwYXRoKC8vKltAaWQ9XFwidnlzbGVkZWtobGVkYW5pXFwiXS91bC9saS9kaXYvaDIvYSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+IGgyID4gYScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtdGV4dChEaXNrcsOpdG7DrSBtYXRlbWF0aWthKScpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLm9uKCdhY3Rpb24nLCAoKSA9PiBzdGFydFdhaXRpbmdGb3JFdmVudHMoKSkKICAgICAgICAgICAgLmNsaWNrKHsKICAgICAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgICAgIHg6IDI4NC4yODU3MDU1NjY0MDYyNSwKICAgICAgICAgICAgICAgIHk6IDE5LjU3MTQxMTEzMjgxMjUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpOwogICAgfQoKICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTsKCn0pKCkuY2F0Y2goZXJyID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgIHByb2Nlc3MuZXhpdCgxKTsKfSk7Cg==",
        "screenshot_timing_between_steps": 400,
        "timeout": 30000
      }
    repeat-every: 1m


  - test: webapp.http.dynamic
    write-to: webapp.http_dynamic.login_action
    targets:
      # https://practicetestautomation.com/practice-test-login/
      - {
        "replay_script": "Y29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyJyk7IC8vIHYyMy4wLjAgb3IgbGF0ZXIKCihhc3luYyAoKSA9PiB7CiAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCgpOwogICAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpOwogICAgY29uc3QgdGltZW91dCA9IDUwMDA7CiAgICBwYWdlLnNldERlZmF1bHRUaW1lb3V0KHRpbWVvdXQpOwoKICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLnNldFZpZXdwb3J0KHsKICAgICAgICAgICAgd2lkdGg6IDE2MzEsCiAgICAgICAgICAgIGhlaWdodDogNDY5CiAgICAgICAgfSkKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmdvdG8oJ2h0dHBzOi8vcHJhY3RpY2V0ZXN0YXV0b21hdGlvbi5jb20vcHJhY3RpY2UtdGVzdC1sb2dpbi8nKTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCBwdXBwZXRlZXIuTG9jYXRvci5yYWNlKFsKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLWFyaWEoVXNlcm5hbWUpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI3VzZXJuYW1lJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcInVzZXJuYW1lXFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+ICN1c2VybmFtZScpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLmNsaWNrKHsKICAgICAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgICAgIHg6IDExNS4yODU3MDU1NjY0MDYyNSwKICAgICAgICAgICAgICAgIHk6IDI0LjcxNDI2MzkxNjAxNTYyNSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCBwdXBwZXRlZXIuTG9jYXRvci5yYWNlKFsKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLWFyaWEoVXNlcm5hbWUpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI3VzZXJuYW1lJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcInVzZXJuYW1lXFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+ICN1c2VybmFtZScpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLmZpbGwoJ3N0dWRlbnQnKTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmtleWJvYXJkLmRvd24oJ1RhYicpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHRhcmdldFBhZ2Uua2V5Ym9hcmQudXAoJ1RhYicpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtYXJpYShQYXNzd29yZCknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCcjcGFzc3dvcmQnKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXhwYXRoKC8vKltAaWQ9XFwicGFzc3dvcmRcXCJdKScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzpzY29wZSA+Pj4gI3Bhc3N3b3JkJykKICAgICAgICBdKQogICAgICAgICAgICAuc2V0VGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICAuZmlsbCgnUGFzc3dvcmQxMjMnKTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdOwogICAgICAgIGNvbnN0IHN0YXJ0V2FpdGluZ0ZvckV2ZW50cyA9ICgpID0+IHsKICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0YXJnZXRQYWdlLndhaXRGb3JOYXZpZ2F0aW9uKCkpOwogICAgICAgIH0KICAgICAgICBhd2FpdCBwdXBwZXRlZXIuTG9jYXRvci5yYWNlKFsKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLWFyaWEoU3VibWl0KScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJyNzdWJtaXQnKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXhwYXRoKC8vKltAaWQ9XFwic3VibWl0XFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+ICNzdWJtaXQnKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5vbignYWN0aW9uJywgKCkgPT4gc3RhcnRXYWl0aW5nRm9yRXZlbnRzKCkpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiA5Mi4yODU3MDU1NjY0MDYyNSwKICAgICAgICAgICAgICAgIHk6IDI5Ljg1NzExNjY5OTIxODc1LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pOwogICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTsKICAgIH0KCiAgICBhd2FpdCBicm93c2VyLmNsb3NlKCk7Cgp9KSgpLmNhdGNoKGVyciA9PiB7CiAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICBwcm9jZXNzLmV4aXQoMSk7Cn0pOwo=",
        "screenshot_timing_between_steps": 400,
        "timeout": 30000
      }
      # https://practice.expandtesting.com/secure
      - {
        "replay_script": "Y29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyJyk7IC8vIHYyMy4wLjAgb3IgbGF0ZXIKCihhc3luYyAoKSA9PiB7CiAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCgpOwogICAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpOwogICAgY29uc3QgdGltZW91dCA9IDUwMDA7CiAgICBwYWdlLnNldERlZmF1bHRUaW1lb3V0KHRpbWVvdXQpOwoKICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLnNldFZpZXdwb3J0KHsKICAgICAgICAgICAgd2lkdGg6IDE2MzEsCiAgICAgICAgICAgIGhlaWdodDogNDY4CiAgICAgICAgfSkKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmdvdG8oJ2h0dHBzOi8vcHJhY3RpY2UuZXhwYW5kdGVzdGluZy5jb20vbG9naW4nKTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCBwdXBwZXRlZXIuTG9jYXRvci5yYWNlKFsKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCdsaTpudGgtb2YtdHlwZSgxKSA+IGInKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXhwYXRoKC9odG1sL2JvZHkvbWFpbi9kaXZbM10vZGl2WzFdL2RpdlsxXS9kaXYvdWwvbGlbMV0vYiknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+IGxpOm50aC1vZi10eXBlKDEpID4gYicpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLmNsaWNrKHsKICAgICAgICAgICAgICBjb3VudDogMiwKICAgICAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgICAgIHg6IDMyLjM3NDk2OTQ4MjQyMTg3NSwKICAgICAgICAgICAgICAgIHk6IDYuOTI4NTU4MzQ5NjA5Mzc1LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHRhcmdldFBhZ2Uua2V5Ym9hcmQuZG93bignQ29udHJvbCcpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHRhcmdldFBhZ2Uua2V5Ym9hcmQuZG93bignYycpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHRhcmdldFBhZ2Uua2V5Ym9hcmQudXAoJ0NvbnRyb2wnKTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmtleWJvYXJkLnVwKCdjJyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKFVzZXJuYW1lKScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJyN1c2VybmFtZScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAteHBhdGgoLy8qW0BpZD1cXCJ1c2VybmFtZVxcIl0pJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiAjdXNlcm5hbWUnKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5jbGljayh7CiAgICAgICAgICAgICAgb2Zmc2V0OiB7CiAgICAgICAgICAgICAgICB4OiAxNDcuOTY0MjMzMzk4NDM3NSwKICAgICAgICAgICAgICAgIHk6IDI0LjQ5OTk2OTQ4MjQyMTg3NSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCBwdXBwZXRlZXIuTG9jYXRvci5yYWNlKFsKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLWFyaWEoVXNlcm5hbWUpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI3VzZXJuYW1lJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcInVzZXJuYW1lXFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+ICN1c2VybmFtZScpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLmZpbGwoJ3ByYWN0aWNlJyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignbGk6bnRoLW9mLXR5cGUoMikgPiBiJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvaHRtbC9ib2R5L21haW4vZGl2WzNdL2RpdlsxXS9kaXZbMV0vZGl2L3VsL2xpWzJdL2IpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiBsaTpudGgtb2YtdHlwZSgyKSA+IGInKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXRleHQoU3VwZXJTZWNyZXRQYXNzd29yZCEpJykKICAgICAgICBdKQogICAgICAgICAgICAuc2V0VGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICAuY2xpY2soewogICAgICAgICAgICAgIGNvdW50OiAyLAogICAgICAgICAgICAgIG9mZnNldDogewogICAgICAgICAgICAgICAgeDogOTMuMzc0OTY5NDgyNDIxODgsCiAgICAgICAgICAgICAgICB5OiAyLjkyODU1ODM0OTYwOTM3NSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmtleWJvYXJkLmRvd24oJ0NvbnRyb2wnKTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmtleWJvYXJkLmRvd24oJ2MnKTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmtleWJvYXJkLnVwKCdjJyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgdGFyZ2V0UGFnZS5rZXlib2FyZC51cCgnQ29udHJvbCcpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHRhcmdldFBhZ2Uua2V5Ym9hcmQuZG93bignQ29udHJvbCcpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHRhcmdldFBhZ2Uua2V5Ym9hcmQudXAoJ0NvbnRyb2wnKTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCBwdXBwZXRlZXIuTG9jYXRvci5yYWNlKFsKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLWFyaWEoUGFzc3dvcmQpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI3Bhc3N3b3JkJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcInBhc3N3b3JkXFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+ICNwYXNzd29yZCcpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLmNsaWNrKHsKICAgICAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgICAgIHg6IDkwLjk2NDIzMzM5ODQzNzUsCiAgICAgICAgICAgICAgICB5OiAyLjM1NzExNjY5OTIxODc1LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAtYXJpYShQYXNzd29yZCknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCcjcGFzc3dvcmQnKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXhwYXRoKC8vKltAaWQ9XFwicGFzc3dvcmRcXCJdKScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzpzY29wZSA+Pj4gI3Bhc3N3b3JkJykKICAgICAgICBdKQogICAgICAgICAgICAuc2V0VGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICAuZmlsbCgnU3VwZXJTZWNyZXRQYXNzd29yZCEnKTsKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdOwogICAgICAgIGNvbnN0IHN0YXJ0V2FpdGluZ0ZvckV2ZW50cyA9ICgpID0+IHsKICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0YXJnZXRQYWdlLndhaXRGb3JOYXZpZ2F0aW9uKCkpOwogICAgICAgIH0KICAgICAgICBhd2FpdCBwdXBwZXRlZXIuTG9jYXRvci5yYWNlKFsKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLWFyaWEoTG9naW4pJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignbWFpbiBidXR0b24nKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXhwYXRoKC8vKltAaWQ9XFwibG9naW5cXCJdL2J1dHRvbiknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+IG1haW4gYnV0dG9uJykKICAgICAgICBdKQogICAgICAgICAgICAuc2V0VGltZW91dCh0aW1lb3V0KQogICAgICAgICAgICAub24oJ2FjdGlvbicsICgpID0+IHN0YXJ0V2FpdGluZ0ZvckV2ZW50cygpKQogICAgICAgICAgICAuY2xpY2soewogICAgICAgICAgICAgIG9mZnNldDogewogICAgICAgICAgICAgICAgeDogMjMzLjk2NDIzMzM5ODQzNzUsCiAgICAgICAgICAgICAgICB5OiAyMS4yMTQyNjM5MTYwMTU2MjUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpOwogICAgfQoKICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTsKCn0pKCkuY2F0Y2goZXJyID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgIHByb2Nlc3MuZXhpdCgxKTsKfSk7Cg==",
        "screenshot_timing_between_steps": 400,
        "timeout": 30000
      }
      # http://testfire.net
      - {
        "replay_script": "Y29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyJyk7IC8vIHYyMy4wLjAgb3IgbGF0ZXIKCihhc3luYyAoKSA9PiB7CiAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCgpOwogICAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpOwogICAgY29uc3QgdGltZW91dCA9IDUwMDA7CiAgICBwYWdlLnNldERlZmF1bHRUaW1lb3V0KHRpbWVvdXQpOwoKICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLnNldFZpZXdwb3J0KHsKICAgICAgICAgICAgd2lkdGg6IDE2MzEsCiAgICAgICAgICAgIGhlaWdodDogNDY5CiAgICAgICAgfSkKICAgIH0KICAgIHsKICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gcGFnZTsKICAgICAgICBhd2FpdCB0YXJnZXRQYWdlLmdvdG8oJ2h0dHA6Ly90ZXN0ZmlyZS5uZXQvbG9naW4uanNwJyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI3VpZCcpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAteHBhdGgoLy8qW0BpZD1cXCJ1aWRcXCJdKScpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzpzY29wZSA+Pj4gI3VpZCcpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLmNsaWNrKHsKICAgICAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgICAgIHg6IDUwLjQwMTc2MzkxNjAxNTYyNSwKICAgICAgICAgICAgICAgIHk6IDQuNTUzNTU4MzQ5NjA5Mzc1LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHB1cHBldGVlci5Mb2NhdG9yLnJhY2UoWwogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJyN1aWQnKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6Oi1wLXhwYXRoKC8vKltAaWQ9XFwidWlkXFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+ICN1aWQnKQogICAgICAgIF0pCiAgICAgICAgICAgIC5zZXRUaW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIC5maWxsKCdhZG1pbicpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSBwYWdlOwogICAgICAgIGF3YWl0IHRhcmdldFBhZ2Uua2V5Ym9hcmQuZG93bignVGFiJyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgdGFyZ2V0UGFnZS5rZXlib2FyZC51cCgnVGFiJyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignI3Bhc3N3JyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC14cGF0aCgvLypbQGlkPVxcInBhc3N3XFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCc6c2NvcGUgPj4+ICNwYXNzdycpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLmZpbGwoJ2FkbWluJyk7CiAgICB9CiAgICB7CiAgICAgICAgY29uc3QgdGFyZ2V0UGFnZSA9IHBhZ2U7CiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTsKICAgICAgICBjb25zdCBzdGFydFdhaXRpbmdGb3JFdmVudHMgPSAoKSA9PiB7CiAgICAgICAgICAgIHByb21pc2VzLnB1c2godGFyZ2V0UGFnZS53YWl0Rm9yTmF2aWdhdGlvbigpKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgcHVwcGV0ZWVyLkxvY2F0b3IucmFjZShbCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOjotcC1hcmlhKExvZ2luW3JvbGU9XFwiYnV0dG9uXFwiXSknKSwKICAgICAgICAgICAgdGFyZ2V0UGFnZS5sb2NhdG9yKCd0cjpudGgtb2YtdHlwZSgzKSBpbnB1dCcpLAogICAgICAgICAgICB0YXJnZXRQYWdlLmxvY2F0b3IoJzo6LXAteHBhdGgoLy8qW0BpZD1cXCJsb2dpblxcIl0vdGFibGUvdGJvZHkvdHJbM10vdGRbMl0vaW5wdXQpJyksCiAgICAgICAgICAgIHRhcmdldFBhZ2UubG9jYXRvcignOnNjb3BlID4+PiB0cjpudGgtb2YtdHlwZSgzKSBpbnB1dCcpCiAgICAgICAgXSkKICAgICAgICAgICAgLnNldFRpbWVvdXQodGltZW91dCkKICAgICAgICAgICAgLm9uKCdhY3Rpb24nLCAoKSA9PiBzdGFydFdhaXRpbmdGb3JFdmVudHMoKSkKICAgICAgICAgICAgLmNsaWNrKHsKICAgICAgICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgICAgICAgIHg6IDE3LjQwMTc2MzkxNjAxNTYyNSwKICAgICAgICAgICAgICAgIHk6IDE0Ljk4MjEzMTk1ODAwNzgxMiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICB9CgogICAgYXdhaXQgYnJvd3Nlci5jbG9zZSgpOwoKfSkoKS5jYXRjaChlcnIgPT4gewogICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgcHJvY2Vzcy5leGl0KDEpOwp9KTsK",
        "screenshot_timing_between_steps": 400,
        "timeout": 30000
      }


    repeat-every: 1m